# FAQ

## Deploy Storybook to a subdirectory or subpath

The default Vite and webpack builders emit relative asset paths, but Rsbuild recommends absolute paths for deployment (see the [asset prefix tips](https://rsbuild.rs/config/output/asset-prefix#path-types:~:text=on%20file%20location.-,TIP,-It%27s%20not%20recommended)). To deploy Storybook at `https://example.com/sb-path`, set [`output.assetPrefix`](https://rsbuild.rs/config/output/asset-prefix).

```diff
const config: StorybookConfig = {
  // --snip--
  rsbuildFinal: (config) => {
+   config.output ??= {}
+   config.output.assetPrefix = '/sb-path/'
    return config
  },
  // --snip--
}
```

## Build errors from unexpected files

> [!NOTE]
> This issue mostly affects older Rspack versions. Modern Rspack handles `webpackInclude` correctly.

If you encounter issues where Rspack bundles files it shouldn't (like Markdown files in unexpected places), you can use `rspack.IgnorePlugin` to exclude them.

```js
// .storybook/main.js
import path from 'path'
import { mergeRsbuildConfig } from '@rsbuild/core'

export default {
  framework: 'storybook-react-rsbuild',
  async rsbuildFinal(config) {
    return mergeRsbuildConfig(config, {
      tools: {
        rspack: (config, { addRules, appendPlugins, rspack, mergeConfig }) => {
          return mergeConfig(config, {
            plugins: [
              new rspack.IgnorePlugin({
                checkResource: (resource, context) => {
                  const absPathHasExt = path.extname(resource)
                  if (absPathHasExt === '.md') {
                    return true
                  }

                  return false
                },
              }),
            ],
          })
        },
      },
    })
  },
}
```

## Why do sandboxes use `getAbsolutePath` to resolve the framework?

See [Storybook's FAQ](https://storybook.js.org/docs/faq#how-do-i-fix-module-resolution-in-special-environments) for the explanation.

## How can I inspect the Rsbuild or Rspack config used by Storybook?

Rsbuild offers a [CLI debug mode](https://rsbuild.rs/guide/debug/debug-mode). Enable it when running Storybook to dump the generated configuration paths.

In development:

```bash
DEBUG=rsbuild storybook dev
```

In production:

```bash
DEBUG=rsbuild storybook build
```

Check the CLI output to see where the Rsbuild and Rspack configs are written.

## Can I use this builder with Rspack directly?

Yes. Rsbuild is built on Rspack, so you can feed your Rspack configuration into the Rsbuild builder. Follow the [Rspack integration guide](/guide/integrations/rspack) to learn how.
